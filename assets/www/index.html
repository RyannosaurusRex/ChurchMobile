<!DOCTYPE HTML>
<html>
<head>
    <title>Harvest Community Church</title>
    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.0b1/jquery.mobile-1.0b1.min.css" />
    <script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.6.2.min.js"></script>
    <script src="http://code.jquery.com/mobile/1.0b1/jquery.mobile-1.0b1.min.js"></script>
    <script type="text/javascript" charset="utf-8" src="js/phonegap-1.0.0.js"></script>
    <script type="text/javascript" charset="utf-8" src="js/jquery.jfeed.js"></script>
    <script language="JavaScript">
		$(document).ready(function() {
    		$.ajax({
				url: "http://feeds.feedburner.com/harvesttn/allnews",
				success: function(data)
				{
					var newsList = $('#news-list');
					var count = 0;
					$(data).find('item').each(function(){
						var title = $(this).find('title').text();
						var link = $(this).find('link').text();
						var body = $(this).find('encoded').text();
						$('#news-list').append('<li><a href="#pageNewsItem' + count + '">' + title + '</a></li>');
						var content = '<div data-role="page" id="pageNewsItem' + count +'"><div data-role="header" data-theme="b"><h1>Harvest Community Church</h1></div><div id="content" data-role="content">' + body + '</div>';
						$('body').append(content);
						count++;			
					});
	
					$('#news-list').listview('refresh');
					
					//Delegate example
					$("body").delegate("p", "click", function(){
				      $(this).after("<p>Another paragraph!</p>");
				    });
				
				},dataType: "xml"
			});
		});
	</script>
</head>
    <body>
    	
        <div data-role="page" id="pageNewsList">
            <div data-role="header" data-theme="b">
                <h1>Harvest Community Church</h1>
            </div>
            <div data-role="header">
                Latest Updates
            </div>
            <ul id="news-list" data-role="listview" data-theme="c">
            </ul>
        </div>
    </body>
</html>